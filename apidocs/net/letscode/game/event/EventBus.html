<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Wed Nov 06 23:00:33 MST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>EventBus (LetsCodeServer 1.0-SNAPSHOT API)</title>
<meta name="date" content="2013-11-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="EventBus (LetsCodeServer 1.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventBus.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../net/letscode/game/event/EventBusClient.html" title="class in net.letscode.game.event"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/letscode/game/event/EventBus.html" target="_top">Frames</a></li>
<li><a href="EventBus.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.letscode.game.event</div>
<h2 title="Class EventBus" class="title">Class EventBus</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.letscode.game.event.EventBus</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">EventBus</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Defines an event bus that handles the dispatching of events to client
 classes. The owner class can define "buckets" or queues for subclasses of
 <a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event"><code>Event</code></a>, which may then be joined by client classes. The owner can then
 push an instance of the <code>Event</code> to the bus using <a href="../../../../net/letscode/game/event/EventBus.html#push(net.letscode.game.event.Event)"><code>push(Event)</code></a>
 which will notify all registered classes listening for that event type, or
 any of its superclasses.
 <p>This implementation allows for inherited and overridden event types,
 assuming that each superclass has defined a queue specifically for that type.
 When listeners are registered, they are added to all queues 'compatible' with
 their event type, meaning that they will be placed into the event queue for
 their direct event type, and any assignable superclasses. Then, when an event
 is pushed to the queue, only the queue for that exact type is notified. This
 ensures that listeners will only ever receive a single notification for
 events compatible via multiple superclasses.</p>
 <p>Definition of listeners requires the <a href="../../../../net/letscode/game/event/EventHandler.html" title="annotation in net.letscode.game.event"><code>EventHandler</code></a> annotation. When
 some client class calls <a href="../../../../net/letscode/game/event/EventBus.html#register(java.lang.Object)"><code>register(Object)</code></a>, all methods with an
 <code>@EventHandler</code> annotation are scanned and added to the appropriate
 event queues.</p>
 <p><code>@EventHandler</code> takes an optional <code>priority</code> parameter. Events
 with a higher priority (defined either as an integer or preferably using a
 constant in <a href="../../../../net/letscode/game/event/EventPriority.html" title="class in net.letscode.game.event"><code>EventPriority</code></a>) will be notified before events with a
 lower (more negative) priority.</p>
 <p>Events may also be 'vetoed', in the sense that an event at a higher
 priority may prevent handlers further down in the queue from being executed.
 While useful, this should be used with caution to ensure potentially
 important events may still get an opportunity to be notified.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>timothyb89</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../net/letscode/game/event/EventBus.html#EventBus()">EventBus</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../net/letscode/game/event/EventBus.html#add(java.lang.Class)">add</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event">Event</a>&gt;&nbsp;clazz)</code>
<div class="block">Defines a new event type.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../net/letscode/game/event/EventBus.html#deregister(java.lang.Object)">deregister</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</code>
<div class="block">Removes the given object from all event queues that it may be a member
 of.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../net/letscode/game/event/EventQueueDefinition.html" title="class in net.letscode.game.event">EventQueueDefinition</a></code></td>
<td class="colLast"><code><strong><a href="../../../../net/letscode/game/event/EventBus.html#getQueueForClass(java.lang.Class)">getQueueForClass</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event">Event</a>&gt;&nbsp;clazz)</code>
<div class="block">Gets the EventQueueDefinition for the given class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../net/letscode/game/event/EventBus.html#push(net.letscode.game.event.Event)">push</a></strong>(<a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event">Event</a>&nbsp;event)</code>
<div class="block">Pushes the given event to the message bus.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../net/letscode/game/event/EventBus.html#register(java.lang.Object)">register</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</code>
<div class="block">Registers all methods of the given object annotated with
 <a href="../../../../net/letscode/game/event/EventHandler.html" title="annotation in net.letscode.game.event"><code>EventHandler</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../net/letscode/game/event/EventBus.html#registerMethod(java.lang.Object, java.lang.reflect.Method, int, boolean)">registerMethod</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect">Method</a>&nbsp;m,
              int&nbsp;priority,
              boolean&nbsp;vetoable)</code>
<div class="block">Registers the given method to the event bus.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../net/letscode/game/event/EventBus.html#remove(java.lang.Class)">remove</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event">Event</a>&gt;&nbsp;clazz)</code>
<div class="block">Removes the event queue for the given class.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EventBus()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EventBus</h4>
<pre>public&nbsp;EventBus()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="add(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event">Event</a>&gt;&nbsp;clazz)</pre>
<div class="block">Defines a new event type. A new event queue will be added for the
 provided class, and future invocations of <a href="../../../../net/letscode/game/event/EventBus.html#push(net.letscode.game.event.Event)"><code>push(Event)</code></a> will notify
 registered listeners.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - the event class to register</dd></dl>
</li>
</ul>
<a name="getQueueForClass(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueueForClass</h4>
<pre>public&nbsp;<a href="../../../../net/letscode/game/event/EventQueueDefinition.html" title="class in net.letscode.game.event">EventQueueDefinition</a>&nbsp;getQueueForClass(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event">Event</a>&gt;&nbsp;clazz)</pre>
<div class="block">Gets the EventQueueDefinition for the given class. If no event queue has
 been created for the given class, <code>null</code> is returned. Note that
 this will not return superclasses of the given class, only exact matches.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>clazz</code> - The class to search for</dd>
<dt><span class="strong">Returns:</span></dt><dd>the event queue for the given class</dd></dl>
</li>
</ul>
<a name="remove(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;void&nbsp;remove(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event">Event</a>&gt;&nbsp;clazz)</pre>
<div class="block">Removes the event queue for the given class. If no queue for the given
 class is found, the method fails silently.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>clazz</code> - the class for which to remove the queue</dd></dl>
</li>
</ul>
<a name="push(net.letscode.game.event.Event)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>push</h4>
<pre>public&nbsp;void&nbsp;push(<a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event">Event</a>&nbsp;event)</pre>
<div class="block">Pushes the given event to the message bus. This will notify listeners in
 order of their priority; any handler that throws an
 <a href="../../../../net/letscode/game/event/EventVetoException.html" title="class in net.letscode.game.event"><code>EventVetoException</code></a> will cause handlers further down in the queue
 to be skipped. Specifically, this notifies the event queue that exactly
 matches the class (as handlers are added to superclass queues at
 registration time)
 <p>If no queue exists for the given event type, no listeners will be
 notified and the method will fail silently.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - the event to push</dd></dl>
</li>
</ul>
<a name="registerMethod(java.lang.Object, java.lang.reflect.Method, int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerMethod</h4>
<pre>protected&nbsp;void&nbsp;registerMethod(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o,
                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect">Method</a>&nbsp;m,
                  int&nbsp;priority,
                  boolean&nbsp;vetoable)</pre>
<div class="block">Registers the given method to the event bus. The object is assumed to be
 of the class that contains the given method.
 <p>The method parameters are
 checked and added to the event queue corresponding to the <a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event"><code>Event</code></a>
 used as the first method parameter. In other words, if passed a reference
 to the following method:</p>
 <p><code>
 public void xyzHandler(XYZEvent event) { ... }
 </code></p>
 <p>... <code>xyzHandler</code> will be added to the event queue for
 <code>XYZEvent</code> assuming that <code>XYZEvent</code> extends <a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event"><code>Event</code></a> and
 an event queue has been created for that event type.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>o</code> - an instance of the class containing the method <code>m</code></dd><dd><code>m</code> - the method to register</dd><dd><code>priority</code> - the event priority</dd><dd><code>vetoable</code> - vetoable flag</dd></dl>
</li>
</ul>
<a name="register(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public&nbsp;void&nbsp;register(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</pre>
<div class="block">Registers all methods of the given object annotated with
 <a href="../../../../net/letscode/game/event/EventHandler.html" title="annotation in net.letscode.game.event"><code>EventHandler</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>o</code> - the object to process</dd><dt><span class="strong">See Also:</span></dt><dd><code>EventBus#registerMethod(Object, Method, int)</code></dd></dl>
</li>
</ul>
<a name="deregister(java.lang.Object)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deregister</h4>
<pre>public&nbsp;void&nbsp;deregister(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</pre>
<div class="block">Removes the given object from all event queues that it may be a member
 of. The object will immediately stop receiving events from this EventBus.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>o</code> - the object to remove</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventBus.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/letscode/game/event/Event.html" title="class in net.letscode.game.event"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../net/letscode/game/event/EventBusClient.html" title="class in net.letscode.game.event"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/letscode/game/event/EventBus.html" target="_top">Frames</a></li>
<li><a href="EventBus.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013. All rights reserved.</small></p>
</body>
</html>
